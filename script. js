// script.js - كامل الميزات التفاعلية

// ✅ تحديث الوقت والتاريخ function updateTime() { const now = new Date(); const time = now.toLocaleTimeString('ar-TN'); const date = now.toLocaleDateString('ar-TN', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }); document.getElementById('current-time').textContent = ${time} - ${date}; } setInterval(updateTime, 1000); updateTime();

// ✅ عدد الزيارات باستخدام localStorage const visitCount = localStorage.getItem('visitCount') || 0; localStorage.setItem('visitCount', parseInt(visitCount) + 1); document.getElementById('visit-count').textContent = عدد زياراتك: ${parseInt(visitCount) + 1};

// ✅ زر تشغيل الراديو const radioBtn = document.getElementById('radio-btn'); const radio = document.getElementById('radio-stream'); radioBtn.addEventListener('click', () => { if (radio.paused) { radio.play(); radioBtn.textContent = '⏸️ إيقاف الراديو'; } else { radio.pause(); radioBtn.textContent = '▶️ شغّل الراديو'; } });

// ✅ شريط الأخبار من BBC عربي async function loadNews() { try { const response = await fetch("https://api.rss2json.com/v1/api.json?rss_url=https://feeds.bbci.co.uk/arabic/rss.xml"); const data = await response.json(); const titles = data.items.slice(0, 5).map(item => item.title).join(" ⚡ "); document.getElementById("live-news").textContent = titles; } catch (error) { document.getElementById("live-news").textContent = "تعذر تحميل الأخبار"; } } loadNews();

// ✅ تغيير اللغة (عربي/فرنسي) const toggleLangBtn = document.getElementById("toggle-lang-btn"); let currentLang = "ar"; toggleLangBtn.addEventListener("click", () => { currentLang = currentLang === "ar" ? "fr" : "ar"; document.documentElement.lang = currentLang; document.documentElement.dir = currentLang === "ar" ? "rtl" : "ltr"; toggleLanguageContent(); });

function toggleLanguageContent() { const isArabic = currentLang === "ar"; document.querySelector("h1").textContent = isArabic ? "Atelier Electronique Médenine" : "Atelier Électronique Médenine"; toggleLangBtn.textContent = isArabic ? "تبديل اللغة" : "Changer de langue"; document.getElementById("visit-count").textContent = isArabic ? عدد زياراتك: ${localStorage.getItem("visitCount")} : Nombre de visites: ${localStorage.getItem("visitCount")}; radioBtn.textContent = radio.paused ? (isArabic ? "شغّل الراديو" : "Lancer la radio") : (isArabic ? "إيقاف الراديو" : "Arrêter la radio"); }

// ✅ الأسئلة الشائعة تفتح وتغلق const faqItems = document.querySelectorAll(".faq-item"); faqItems.forEach(item => { item.addEventListener("click", () => { item.classList.toggle("open"); }); });

